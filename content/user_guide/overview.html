

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Overview &mdash; Lime Tbx 0.1.dev1+gab245d1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/theme_overrides.css?v=f2acf8a4" />

  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=25c3d3cf"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Installation" href="installation.html" />
    <link rel="prev" title="Glossary" href="../glossary.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Lime Tbx
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">README</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOG.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#simulation-comparison-workflow">Simulation &amp; Comparison Workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#summary-of-the-process">Summary of the Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="#input-handling">1. Input Handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#computing-lime-for-cimel-wavelengths">2. Computing LIME for CIMEL Wavelengths</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spectral-interpolation">3. Spectral Interpolation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conversion-to-irradiance-using-the-solar-spectrum">4. Conversion to Irradiance Using the Solar Spectrum</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spectral-response-function-srf-integration">5. Spectral Response Function (SRF) Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compare-simulations-against-observations">6. Compare Simulations against Observations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#align-simulations-and-observations">6.1. Align Simulations and Observations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#computing-comparison-metrics">6.2. Computing Comparison Metrics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#visualisation-and-data-export">7. Visualisation and Data Export</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#polarisation-computation">Polarisation Computation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulations.html">Simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="comparisons.html">Comparisons</a></li>
<li class="toctree-l1"><a class="reference internal" href="coefficients.html">Coefficients</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats.html">File Formats</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Details:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../analysis.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../implementation.html">Implementation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Packages</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/lime_tbx.html">lime_tbx package</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CODE_OF_CONDUCT.html">Code of Conduct</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Lime Tbx</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Overview</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/content/user_guide/overview.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h1>
<section id="simulation-comparison-workflow">
<h2>Simulation &amp; Comparison Workflow<a class="headerlink" href="#simulation-comparison-workflow" title="Link to this heading"></a></h2>
<p>LIME Toolbox follows a structured process to compute lunar reflectance and irradiance
based on precomputed coefficients and user-defined settings. The computed irradiance can
then be compared against real instrument observations.
This process is described in (<a class="reference internal" href="#fig-1">Figure 1</a>).</p>
<section id="summary-of-the-process">
<h3>Summary of the Process<a class="headerlink" href="#summary-of-the-process" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Handle input</strong> obtaining <strong>LIME variables</strong>.</p></li>
<li><p><strong>Compute LIME reflectance at CIMEL wavelengths</strong> using LIME <strong>coefficients</strong>.</p></li>
<li><p><strong>Interpolate reflectance</strong> using <strong>ASD</strong> or <strong>Apollo 16 + Breccia</strong> spectrum.</p></li>
<li><p><strong>Convert reflectance to irradiance</strong> using the <strong>selected TSIS-1 SRF instance</strong>.</p></li>
<li><p><strong>Integrate irradiance over the instrument SRF</strong> to compute <strong>channel-specific values</strong>.</p></li>
<li><p><strong>Compare simulated irradiance against real instrument observations</strong>.</p></li>
<li><p><strong>Visualise and export results</strong>.</p></li>
</ol>
<figure class="align-center" id="fig-1">
<img alt="Activity diagram of the Simulation &amp; Comparison Workflow" src="../../_images/activity_comparison.png" />
<figcaption>
<p><span class="caption-number"><i>Figure 1:</i> </span><span class="caption-text">Activity diagram of the Simulation &amp; Comparison Workflow.</span><a class="headerlink" href="#fig-1" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="input-handling">
<h3>1. Input Handling<a class="headerlink" href="#input-handling" title="Link to this heading"></a></h3>
<p>Before computing simulations or comparisons, LIME Toolbox must extract the necessary input parameters.
These include key <strong>LIME model variables</strong>, such as:</p>
<ul class="simple">
<li><p><strong>Selenographic latitude and longitude of the observer</strong></p></li>
<li><p><strong>Distance between the Sun and the Moon</strong></p></li>
<li><p><strong>Distance between the observer and the Moon</strong></p></li>
<li><p><strong>Selenographic longitude of the Sun</strong></p></li>
<li><p><strong>Moon phase angle</strong></p></li>
</ul>
<p>LIME Toolbox retrieves these parameters from one of two sources:</p>
<ol class="arabic simple">
<li><p><strong>Direct Input</strong> – Users can provide <strong>geographic, selenographic, or satellite coordinates</strong>.</p></li>
<li><p><strong>Observation Files</strong> – Provide precise <strong>geographic coordinates</strong> but can also be used with selenographic or satellite-based simulations.</p></li>
</ol>
<p>To ensure accuracy, LIME Toolbox computes missing parameters using:</p>
<ul class="simple">
<li><p><strong>SPICE</strong> for orbital and positional data. Used to compute LIME variables from geographic coordinates.</p></li>
<li><p><strong>EO-CFI</strong> when processing satellite-based observations.</p></li>
</ul>
</section>
<section id="computing-lime-for-cimel-wavelengths">
<h3>2. Computing LIME for CIMEL Wavelengths<a class="headerlink" href="#computing-lime-for-cimel-wavelengths" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>The first step in the simulation is to <strong>compute the LIME model for the predefined CIMEL wavelengths</strong>.</p></li>
<li><p>These computations are based on <strong>LIME coefficients</strong>.</p></li>
<li><p>The result of this step is a set of <strong>lunar reflectance values</strong> at the specific CIMEL wavelengths.</p></li>
</ul>
</section>
<section id="spectral-interpolation">
<h3>3. Spectral Interpolation<a class="headerlink" href="#spectral-interpolation" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Since LIME coefficients provide <strong>values only for CIMEL wavelengths</strong>, the next step is <strong>spectral interpolation</strong>.</p></li>
<li><p><strong>The interpolation uses a reference spectrum</strong>, which is selected by the user:</p>
<ul>
<li><p><strong>ASD Spectrum</strong> (<em>default and preferred choice</em>), derived from Izaña ground-based observations.</p></li>
<li><p><strong>Apollo 16 + Breccia Spectrum</strong>, a ROLO-based composite spectrum.</p></li>
</ul>
</li>
<li><p>Using the selected spectrum, LIME <strong>interpolates reflectance values</strong> across the entire <strong>wavelength range</strong> (typically 350–2500 nm).</p></li>
</ul>
</section>
<section id="conversion-to-irradiance-using-the-solar-spectrum">
<h3>4. Conversion to Irradiance Using the Solar Spectrum<a class="headerlink" href="#conversion-to-irradiance-using-the-solar-spectrum" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Once reflectance values are interpolated, <strong>LIME converts them into lunar irradiance</strong>.</p></li>
<li><p>This transformation involves multiplying reflectance by the <strong>selected TSIS-1 solar spectrum instance</strong>.</p></li>
<li><p>The available <strong>TSIS-1 Spectral Response Function (SRF) instances</strong> include:</p>
<ul>
<li><p><strong>ASD SRF</strong> (<em>corresponding to the ASD spectroradiometer</em>).</p></li>
<li><p><strong>Gaussian SRF</strong> (<em>1nm spectral sampling, 3nm resolution</em>).</p></li>
<li><p><strong>Triangular SRF</strong> (<em>1nm spectral sampling, 1nm resolution</em>).</p></li>
</ul>
</li>
<li><p>The selected <strong>TSIS-1 SRF determines how much sunlight radiance reaches the Moon at each wavelength</strong>.</p></li>
</ul>
</section>
<section id="spectral-response-function-srf-integration">
<h3>5. Spectral Response Function (SRF) Integration<a class="headerlink" href="#spectral-response-function-srf-integration" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>The computed irradiance values <strong>must be adjusted based on the instrument response</strong>.</p></li>
<li><p>Each instrument has a <strong>Spectral Response Function (SRF)</strong> that weights different wavelengths differently.</p></li>
<li><p>LIME integrates the simulated <strong>irradiance over the instrument SRF</strong>, producing an <strong>integrated irradiance value per spectral channel</strong>.</p></li>
</ul>
</section>
<section id="compare-simulations-against-observations">
<h3>6. Compare Simulations against Observations<a class="headerlink" href="#compare-simulations-against-observations" title="Link to this heading"></a></h3>
<p>Once the simulated <strong>irradiance values per channel</strong> have been computed, they can be <strong>compared against real instrument observations</strong>.</p>
<section id="align-simulations-and-observations">
<h4>6.1. Align Simulations and Observations<a class="headerlink" href="#align-simulations-and-observations" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>LIME matches <strong>timestamps</strong> between observations and simulations.</p></li>
<li><p>Observed irradiance is <strong>compared to the simulated values</strong>.</p></li>
<li><p>If needed, LIME <strong>recomputes distances and normalisation factors</strong>.</p></li>
</ul>
</section>
<section id="computing-comparison-metrics">
<h4>6.2. Computing Comparison Metrics<a class="headerlink" href="#computing-comparison-metrics" title="Link to this heading"></a></h4>
<p>Once observations and simulations are aligned, LIME computes <strong>comparison metrics</strong>:</p>
<ul class="simple">
<li><p><strong>Relative Difference (%)</strong>:
<code class="docutils literal notranslate"><span class="pre">100</span> <span class="pre">*</span> <span class="pre">((irr_obs</span> <span class="pre">-</span> <span class="pre">irr_sim)</span> <span class="pre">/</span> <span class="pre">irr_sim)</span></code></p></li>
<li><p><strong>Percentage Difference (%)</strong>:
<code class="docutils literal notranslate"><span class="pre">100</span> <span class="pre">*</span> <span class="pre">abs(irr_sim</span> <span class="pre">-</span> <span class="pre">irr_obs)</span> <span class="pre">/</span> <span class="pre">((irr_sim</span> <span class="pre">+</span> <span class="pre">irr_obs)</span> <span class="pre">/</span> <span class="pre">2)</span></code></p></li>
<li><p><strong>Statistical Metrics</strong> per channel:</p>
<ul>
<li><p><strong>Mean Relative Difference (MRD)</strong></p></li>
<li><p><strong>Mean Absolute Relative Difference (MARD)</strong></p></li>
<li><p><strong>Mean Percentage Difference (MPD)</strong></p></li>
<li><p><strong>Standard Deviation of MRD</strong></p></li>
<li><p><strong>Number of Observations per Channel</strong></p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="visualisation-and-data-export">
<h3>7. Visualisation and Data Export<a class="headerlink" href="#visualisation-and-data-export" title="Link to this heading"></a></h3>
<p>Once simulations and comparisons are computed, users can:</p>
<ul class="simple">
<li><p><strong>Visualise Data</strong>:</p>
<ul>
<li><p><strong>Time-series plots</strong> of irradiance and difference.</p></li>
<li><p><strong>Boxplots</strong> for spectral variability.</p></li>
<li><p><strong>Comparison graphs based on</strong>:</p>
<ul>
<li><p><strong>Timestamp</strong></p></li>
<li><p><strong>Moon Phase Angle</strong></p></li>
<li><p><strong>Wavelength</strong></p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Export Results</strong>:</p>
<ul>
<li><p><strong>Graphs</strong> (<em>PNG, JPG, PDF</em>).</p></li>
<li><p><strong>Raw Data</strong> (<em>CSV, NetCDF for future reloading</em>).</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="polarisation-computation">
<h2>Polarisation Computation<a class="headerlink" href="#polarisation-computation" title="Link to this heading"></a></h2>
<p>While LIME Toolbox primarily computes reflectance and irradiance, it can also estimate <strong>polarisation</strong> using precomputed polarisation coefficients.</p>
<ul class="simple">
<li><p><strong>Degree of Lunar Polarisation (DoLP)</strong> is derived from reflectance using <strong>LIME polarisation coefficients</strong>.</p></li>
<li><p><strong>Polarisation calculations follow the same interpolation and SRF integration process</strong> but do not influence irradiance computation.</p></li>
<li><p>The <strong>polarisation interpolation spectrum is fixed</strong> (users cannot select it).</p></li>
</ul>
<p><strong>Polarisation results are computed separately</strong> and are available in <strong>dedicated output files</strong>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../glossary.html" class="btn btn-neutral float-left" title="Glossary" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="installation.html" class="btn btn-neutral float-right" title="Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, European Space Agency (ESA). Code and documentation licensed under the GNU Lesser General Public License (LGPL), Version 3.0.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>